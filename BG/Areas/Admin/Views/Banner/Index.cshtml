@model List<BG_Application.CustomDTO.BannerViewModel>
@{
    ViewBag.Title = "Banner";
    Layout = "~/Areas/Admin/Views/Shared/AdminLayout.cshtml";
}
<div class="main-content">
    <section class="section">
        <div class="section-body card p-3">
            <h4 class="mb-4">
                Banner Images
                <button class="btn btn-primary float-right">Add New</button>
            </h4>
            <div class="row">
                @foreach (var item in Model)
                {
                    <div class="col-12 col-sm-6 col-md-6 col-lg-3">
                        <article class="article">
                            <div class="article-header">
                                <div class="article-image" data-background="/Content/slider/@item.ImageName">
                                </div>
                                <div class="article-badge">
                                    @if (item.Active == true)
                                    {
                                        <div class="article-badge-item bg-green"><i class="fas fa-check-circle"></i>Active</div>
                                    }
                                    else
                                    {
                                        <div class="article-badge-item bg-danger"><i class="fas fa-ban"></i>In Active</div>
                                    }
                                </div>
                                @*<div class="article-title">
                                        <h2><a href="#">The oddest place you will find photo studios</a></h2>
                                    </div>*@
                            </div>
                            <div class="article-details">
                                <h4>@item.Title</h4>
                                @*<p>
                                        A don't spirit gathered two under, lights said. May Multiply seasons you'll spirit tree morning
                                        hath first signs.
                                    </p>*@
                                <div class="article-cta">
                                    <a href="#" class="btn btn-primary" onclick="ActiveInactiveBanner(@item.ImageID, true);">Active</a>
                                    <a href="#" class="btn btn-danger" onclick="ActiveInactiveBanner(@item.ImageID, false);">In Active</a>
                                </div>
                            </div>
                        </article>
                    </div>
                }
            </div>
        </div>
    </section>
</div>
@section scripts{
    <script type="text/javascript">
        function ActiveInactiveBanner(ImageID, Status) {
             $.ajax({
                 async: true,
                 type: "Get",
                 url: '@Url.Action("ActiveInactiveBanner","banner", new { area = "admin"} )',
                 data: { 'ImageID': ImageID, 'Status': Status },
                 beforeSend: function () {
                     HoldOn.open();
                 },
                 complete: function () {
                    HoldOn.close();
                 },
                 success: function (response) {
                     debugger;
                     var msg = response == true ? "Banner has been activated" : "Banner has been in activated";
                     swal({
                           title: "Success",
                           text: msg,
                           icon: "success"
                         }).then(function (willDelete) {
                              if (willDelete) {
                                  location.reload();
                              }
                         });
                 },
                 error: function (response) {
                     alert(response.responseText);
                 }
              });
        }
    </script>
}